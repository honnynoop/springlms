# 대응분석 (Correspondence Analysis)

**범주형 변수 간의 관계**를 시각적으로 분석하는 다변량 통계 기법이다.

---

## 1. 개념

- **교차표(분할표)**의 행과 열 범주 간 관계를 **2차원 평면**에 시각화
- 카이제곱 거리를 기반으로 차원 축소
- PCA의 범주형 버전이라고 볼 수 있음

---

## 2. 언제 사용하나?

| 상황 | 예시 |
|------|------|
| 범주형 × 범주형 관계 분석 | 성별 × 선호 브랜드 |
| 설문조사 분석 | 연령대 × 구매 채널 |
| 시장조사 | 지역 × 제품 선호도 |

---

## 3. 결과 해석

```
        Dim 1
          ↑
    A ●   |   ● 남성
          |
──────────┼──────────→ Dim 2
          |
    B ●   |   ● 여성
          ↓
```

- **가까운 점**: 연관성이 높음 (예: A브랜드 ↔ 남성)
- **먼 점**: 연관성이 낮음
- **원점 근처**: 평균적인 특성

---

## 4. R 코드 예시

```r
# 교차표 생성
data <- matrix(c(30, 10, 15, 25, 20, 35), nrow=2,
               dimnames=list(성별=c("남","여"), 
                            브랜드=c("A","B","C")))

# 대응분석 수행
library(FactoMineR)
result <- CA(data)

# 시각화
plot(result)
```

---

## 5. Python 코드 예시

```python
import pandas as pd
import prince  # pip install prince

# 교차표
data = pd.DataFrame({
    'A': [30, 15],
    'B': [10, 25],
    'C': [20, 35]
}, index=['남', '여'])

# 대응분석
ca = prince.CA(n_components=2)
ca = ca.fit(data)

# 시각화
ca.plot_coordinates(data)
```

---

## 6. 주요 용어

| 용어 | 설명 |
|------|------|
| **관성(Inertia)** | 전체 변동량 (카이제곱/n) |
| **고유값** | 각 차원이 설명하는 관성 비율 |
| **행/열 좌표** | 각 범주의 2D 평면 위치 |
| **기여도** | 각 범주가 차원에 기여하는 정도 |

---

## 7. vs 다른 기법 비교

| 기법 | 변수 유형 | 목적 |
|------|----------|------|
| **PCA** | 연속형 | 차원 축소 |
| **대응분석(CA)** | 범주형 2개 | 관계 시각화 |
| **다중대응분석(MCA)** | 범주형 3개+ | 다변량 관계 |

---

---

# 대응분석 결과 해석 문제

## 문제

한 마케팅 회사에서 **연령대별 선호 SNS 플랫폼**을 조사하여 대응분석을 수행했다. 아래 결과를 보고 물음에 답하시오.

---

### [교차표 데이터]

| | 인스타그램 | 페이스북 | 틱톡 | 유튜브 |
|---|:---:|:---:|:---:|:---:|
| 10대 | 45 | 5 | 80 | 30 |
| 20대 | 90 | 15 | 40 | 55 |
| 30대 | 60 | 45 | 10 | 70 |
| 40대 | 25 | 70 | 5 | 60 |
| 50대+ | 10 | 85 | 2 | 45 |

---

### [대응분석 결과]

#### 1) 고유값 및 관성

| 차원 | 고유값 | 관성 비율(%) | 누적(%) |
|:---:|:---:|:---:|:---:|
| Dim 1 | 0.312 | 68.5 | 68.5 |
| Dim 2 | 0.098 | 21.5 | 90.0 |
| Dim 3 | 0.046 | 10.0 | 100.0 |

---

#### 2) 대응분석 시각화 (Biplot)

```
                    Dim 2 (21.5%)
                        ↑
                        |
            페이스북 ●  |
                   50대+●
                  40대● |
                        |
    ────────────────────┼────────────────────→ Dim 1 (68.5%)
                        |          ● 인스타그램
               유튜브 ● |         ● 20대
                  30대● |
                        |
                        |    ● 10대
                        |    ● 틱톡
                        ↓
```

---

#### 3) 행(연령대) 좌표 및 기여도

| 연령대 | Dim1 | Dim2 | Dim1 기여도(%) | Dim2 기여도(%) |
|:---:|:---:|:---:|:---:|:---:|
| 10대 | 0.52 | -0.48 | 18.2 | 28.5 |
| 20대 | 0.38 | 0.12 | 14.5 | 2.1 |
| 30대 | -0.15 | -0.08 | 3.2 | 1.5 |
| 40대 | -0.45 | 0.35 | 22.8 | 25.6 |
| 50대+ | -0.68 | 0.52 | 41.3 | 42.3 |

---

#### 4) 열(SNS) 좌표 및 기여도

| SNS | Dim1 | Dim2 | Dim1 기여도(%) | Dim2 기여도(%) |
|:---:|:---:|:---:|:---:|:---:|
| 인스타그램 | 0.42 | 0.15 | 24.5 | 5.8 |
| 페이스북 | -0.72 | 0.48 | 45.2 | 38.5 |
| 틱톡 | 0.85 | -0.55 | 22.1 | 42.2 |
| 유튜브 | -0.12 | -0.08 | 8.2 | 13.5 |

---

### 질문

**(1)** 2개 차원으로 원 데이터를 얼마나 설명할 수 있는가?

**(2)** Dim 1(제1차원)은 어떤 의미로 해석할 수 있는가?

**(3)** 각 연령대별로 선호하는 SNS 플랫폼은 무엇인지 해석하시오.

**(4)** 30대와 유튜브의 관계를 설명하시오.

**(5)** 이 분석 결과를 마케팅 전략에 어떻게 활용할 수 있는가?

---

---

# 모범 답안

## (1) 설명력

**90.0%**

- Dim 1: 68.5%
- Dim 2: 21.5%
- 누적: 68.5 + 21.5 = **90.0%**

2개 차원만으로 원 데이터의 90%를 설명하므로 **충분히 적절한 차원 수**이다.

---

## (2) Dim 1 해석

**"연령대" 또는 "세대 차이" 축**

| Dim1 양(+) | Dim1 음(-) |
|:---:|:---:|
| 10대, 20대 | 40대, 50대+ |
| 틱톡, 인스타그램 | 페이스북 |

- **Dim 1 기여도**를 보면:
  - 행: 50대+(41.3%), 40대(22.8%) vs 10대(18.2%)
  - 열: 페이스북(45.2%) vs 인스타그램(24.5%), 틱톡(22.1%)

→ Dim 1은 **"젊은 세대 vs 중장년 세대"**를 구분하는 축으로 해석

---

## (3) 연령대별 선호 SNS

| 연령대 | 선호 SNS | 근거 |
|:---:|:---:|:---|
| **10대** | 틱톡 | 둘 다 Dim1(+), Dim2(-) 방향, 가장 가까움 |
| **20대** | 인스타그램 | 둘 다 Dim1(+) 방향, 거리 가까움 |
| **30대** | 유튜브 | 둘 다 원점 근처, 평균적 특성 |
| **40대** | 페이스북 | 둘 다 Dim1(-), Dim2(+) 방향 |
| **50대+** | 페이스북 | 가장 가까운 거리, 강한 연관성 |

---

## (4) 30대와 유튜브의 관계

**"평균적/중립적 선호"**

- 30대 좌표: (-0.15, -0.08) → 원점 근처
- 유튜브 좌표: (-0.12, -0.08) → 원점 근처

**해석**:
- 둘 다 원점에 가까워 **특정 연령대에 편중되지 않은 보편적 플랫폼**
- 유튜브는 모든 연령대에서 고르게 사용됨
- 30대는 특정 SNS에 치우치지 않고 **균형 있게 사용**하는 세대

---

## (5) 마케팅 전략 활용

| 타겟 | 전략 | SNS 채널 |
|:---:|:---|:---:|
| **10대** | 숏폼 영상 콘텐츠, 챌린지 마케팅 | 틱톡 |
| **20대** | 인플루언서 협업, 비주얼 중심 광고 | 인스타그램 |
| **30대** | 정보성 영상, 리뷰 콘텐츠 | 유튜브 |
| **40~50대** | 커뮤니티 기반 마케팅, 정보 공유형 | 페이스북 |

**추가 인사이트**:
- 유튜브는 **전 연령대 대상 캠페인**에 적합
- 연령 타겟팅이 명확한 제품은 **해당 세대와 가까운 플랫폼**에 집중 투자

---

---

# 핵심 해석 요령 정리

| 항목 | 해석 방법 |
|:---|:---|
| **누적 관성 비율** | 70~80% 이상이면 적절한 차원 수 |
| **점 간 거리** | 가까울수록 연관성 높음 |
| **원점 근처** | 평균적 특성, 특이성 없음 |
| **기여도** | 높을수록 해당 차원을 대표하는 범주 |
| **같은 방향** | 양의 상관관계 (함께 나타남) |
| **반대 방향** | 음의 상관관계 (대조적 특성) |
