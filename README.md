# ÌååÏùºÏúÑÏπò
C:\springlms\frontend>
C:\springlms\frontend>npm run dev --host

# Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú Ïó¥Í∏∞:
LMS-COMPLETE-FINAL/frontend/index.html
```

---

## üéØ Ï£ºÏöî Í∏∞Îä•

‚ú® **ÏôÑÎ≤ΩÌïòÍ≤å Íµ¨ÌòÑÎêú Í∏∞Îä•Îì§:**

### üîê Ïù∏Ï¶ù ÏãúÏä§ÌÖú
- JWT Í∏∞Î∞ò Access/Refresh Token
- BCrypt ÎπÑÎ∞ÄÎ≤àÌò∏ ÏïîÌò∏Ìôî
- Î°úÍ∑∏Ïù∏/ÌöåÏõêÍ∞ÄÏûÖ/ÌÜ†ÌÅ∞ Í∞±Ïã†

### üë• ÏÇ¨Ïö©Ïûê Í¥ÄÎ¶¨
- Ïó≠Ìï† Í∏∞Î∞ò Ï†ëÍ∑º Ï†úÏñ¥ (ADMIN/USER)
- ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå
- Í¥ÄÎ¶¨Ïûê: Ï†ÑÏ≤¥ ÏÇ¨Ïö©Ïûê Î™©Î°ù

### üìö ÏãúÌóò Í¥ÄÎ¶¨
- ÏãúÌóò ÏÉùÏÑ±/Ï°∞Ìöå/ÏàòÏ†ï/ÏÇ≠Ï†ú
- Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Î∂ÑÎ•ò
- Í≥µÍ∞ú/ÎπÑÍ≥µÍ∞ú ÏÑ§Ï†ï
- ÏãúÍ∞Ñ Ï†úÌïú, Ìï©Í≤© Í∏∞Ï§Ä ÏÑ§Ï†ï

### ‚ùì Î¨∏Ï†ú ÏùÄÌñâ
- Í∞ùÍ¥ÄÏãù/Ï∞∏Í±∞Ïßì/Îã®ÎãµÌòï Î¨∏Ï†ú
- ÎÇúÏù¥ÎèÑ ÏÑ§Ï†ï (EASY/MEDIUM/HARD)
- Ï†ïÎãµ Î∞è Ìï¥ÏÑ§ Í¥ÄÎ¶¨

### üìù ÏãúÌóò ÏùëÏãú
- ÏãúÌóò ÏùëÏãú Í∏∞Î°ù
- ÏûêÎèô Ï±ÑÏ†ê
- Í≤∞Í≥º ÌôïÏù∏

### üìñ API Î¨∏ÏÑú
- Swagger UI ÌÜµÌï©
- Î™®Îì† API ÌÖåÏä§Ìä∏ Í∞ÄÎä•

---

## üîë ÌÖåÏä§Ìä∏ Í≥ÑÏ†ï

### Í¥ÄÎ¶¨Ïûê
- **Username**: `admin`
- **Password**: `admin123`
- **Email**: `admin@lms.com`

### ÏùºÎ∞ò ÏÇ¨Ïö©Ïûê
- **Username**: `user1`
- **Password**: `admin123`
- **Email**: `user1@lms.com`

---

## üåê Ï†ëÏÜç URL

### Î∞±ÏóîÎìú
- **API**: http://localhost:8080/api
- **Swagger UI**: http://localhost:8080/api/swagger-ui.html

### ÌîÑÎ°†Ìä∏ÏóîÎìú
- **Ïõπ Ïï±**: Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú `frontend/index.html` Ïó¥Í∏∞

---

## üìä Í∏∞Ïà† Ïä§ÌÉù

- ‚òï **Java 17**
- üçÉ **Spring Boot 3.4.5**
- üîí **Spring Security + JWT 0.12.6**
- üóÉÔ∏è **MyBatis 3.0.4**
- üê¨ **MySQL 8.0**
- üìù **SpringDoc OpenAPI 2.8.3**
- üíö **Vue.js 3**

---

## üí° ÌäπÏßï

‚úÖ **ÏôÑÎ≤ΩÌïú ÌîÑÎ°úÎçïÏÖò Î†àÎ≤® ÏΩîÎìú**
- Î™®Îì† Î†àÏù¥Ïñ¥ ÏôÑÎ≤Ω Íµ¨ÌòÑ (Controller ‚Üí Service ‚Üí Mapper ‚Üí XML)
- ÏòàÏô∏ Ï≤òÎ¶¨ Î∞è Í≤ÄÏ¶ù
- Ìä∏ÎûúÏû≠ÏÖò Í¥ÄÎ¶¨

‚úÖ **Ï¶âÏãú Ïã§Ìñâ Í∞ÄÎä•**
- ÏÑ§Ï†ï ÌååÏùº ÏôÑÎπÑ
- Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞ Ìè¨Ìï®
- ÌÖåÏä§Ìä∏ Í≥ÑÏ†ï Ï†úÍ≥µ

‚úÖ **ÌôïÏû• Í∞ÄÎä•Ìïú Íµ¨Ï°∞**
- ÌÅ¥Î¶∞ ÏïÑÌÇ§ÌÖçÏ≤ò
- RESTful API ÏÑ§Í≥Ñ
- ÎßàÏù¥ÌÅ¨Î°úÏÑúÎπÑÏä§ Ï†ÑÌôò Í∞ÄÎä•

---

## üéì ÌîÑÎ°úÏ†ùÌä∏ Íµ¨Ï°∞
```
LMS-COMPLETE-FINAL/
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îî‚îÄ‚îÄ schema.sql                 # DB Ïä§ÌÇ§Îßà + Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞
‚îÇ
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ pom.xml                    # Maven ÏÑ§Ï†ï
‚îÇ   ‚îî‚îÄ‚îÄ src/main/
‚îÇ       ‚îú‚îÄ‚îÄ java/com/lms/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ LmsApplication.java
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ entity/            # 9Í∞ú Entity
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ dto/               # 6Í∞ú DTO
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ mapper/            # 5Í∞ú Mapper Ïù∏ÌÑ∞ÌéòÏù¥Ïä§
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ service/           # 2Í∞ú Service
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ controller/        # 4Í∞ú Controller
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ security/          # 3Í∞ú Security
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ config/            # 2Í∞ú Config
‚îÇ       ‚îî‚îÄ‚îÄ resources/
‚îÇ           ‚îú‚îÄ‚îÄ application.yml    # ÏÑ§Ï†ï ÌååÏùº
‚îÇ           ‚îî‚îÄ‚îÄ mapper/            # 4Í∞ú XML Îß§Ìçº
‚îÇ
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îî‚îÄ‚îÄ index.html                 # Vue.js SPA
‚îÇ
‚îî‚îÄ‚îÄ README.md                      # ÏôÑÎ≤ΩÌïú Í∞ÄÏù¥Îìú



echo "# springlms" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/honnynoop/springlms.git
git push -u origin main


# 1. ÌîÑÎ°úÏ†ùÌä∏ Ìè¥ÎçîÏóêÏÑú
git init

# 2. Î∏åÎûúÏπòÎ™ÖÏùÑ mainÏúºÎ°ú ÏÑ§Ï†ï
git branch -M main

# 3. ÌååÏùº Ï∂îÍ∞Ä
git add .

# 4. Ïª§Î∞ã
git commit -m "Initial commit"

# 5. ÏõêÍ≤© Ï†ÄÏû•ÏÜå Ïó∞Í≤∞ (Ïù¥ÎØ∏ Ïó∞Í≤∞ÎêòÏñ¥ ÏûàÏúºÎ©¥ Ïä§ÌÇµ)
git remote add origin https://github.com/honnynoop/springlms.git

# 6. push
git push -u origin main


-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema lms_exam_db
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema lms_exam_db
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `lms_exam_db` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ;
USE `lms_exam_db` ;

-- -----------------------------------------------------
-- Table `lms_exam_db`.`categories`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `lms_exam_db`.`categories` (
  `category_id` BIGINT NOT NULL AUTO_INCREMENT,
  `category_name` VARCHAR(100) NOT NULL,
  `description` TEXT NULL DEFAULT NULL,
  `is_active` TINYINT(1) NULL DEFAULT '1',
  `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`category_id`),
  UNIQUE INDEX `category_name` (`category_name` ASC) VISIBLE)
ENGINE = InnoDB
AUTO_INCREMENT = 7
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `lms_exam_db`.`users`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `lms_exam_db`.`users` (
  `user_id` BIGINT NOT NULL AUTO_INCREMENT,
  `username` VARCHAR(50) NOT NULL,
  `password` VARCHAR(255) NOT NULL,
  `email` VARCHAR(100) NOT NULL,
  `full_name` VARCHAR(100) NOT NULL,
  `role` ENUM('ADMIN', 'USER') NULL DEFAULT 'USER',
  `is_active` TINYINT(1) NULL DEFAULT '1',
  `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `phone` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`user_id`),
  UNIQUE INDEX `username` (`username` ASC) VISIBLE,
  UNIQUE INDEX `email` (`email` ASC) VISIBLE,
  INDEX `idx_username` (`username` ASC) VISIBLE,
  INDEX `idx_users_phone` (`phone` ASC) VISIBLE,
  INDEX `idx_users_email` (`email` ASC) VISIBLE)
ENGINE = InnoDB
AUTO_INCREMENT = 5
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `lms_exam_db`.`exams`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `lms_exam_db`.`exams` (
  `exam_id` BIGINT NOT NULL AUTO_INCREMENT,
  `exam_title` VARCHAR(200) NOT NULL,
  `category_id` BIGINT NOT NULL,
  `description` TEXT NULL DEFAULT NULL,
  `total_questions` INT NOT NULL DEFAULT '0',
  `total_points` INT NOT NULL DEFAULT '0',
  `duration_minutes` INT NULL DEFAULT '60',
  `passing_score` INT NULL DEFAULT '60',
  `is_published` TINYINT(1) NULL DEFAULT '0',
  `created_by` BIGINT NULL DEFAULT NULL,
  `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `is_active` TINYINT(1) NULL DEFAULT '0' COMMENT 'ÏãúÌóò Í≥µÍ∞ú Ïó¨Î∂Ä (ÏÇ¨Ïö©ÏûêÍ∞Ä Î≥º Ïàò ÏûàÎäîÏßÄ)',
  `exam_date` DATE NULL DEFAULT NULL COMMENT 'ÏãúÌóò ÎÇ†Ïßú',
  PRIMARY KEY (`exam_id`),
  INDEX `category_id` (`category_id` ASC) VISIBLE,
  INDEX `created_by` (`created_by` ASC) VISIBLE,
  INDEX `idx_exams_is_active` (`is_active` ASC) VISIBLE,
  INDEX `idx_exams_is_published` (`is_published` ASC) VISIBLE,
  CONSTRAINT `exams_ibfk_1`
    FOREIGN KEY (`category_id`)
    REFERENCES `lms_exam_db`.`categories` (`category_id`)
    ON DELETE CASCADE,
  CONSTRAINT `exams_ibfk_2`
    FOREIGN KEY (`created_by`)
    REFERENCES `lms_exam_db`.`users` (`user_id`)
    ON DELETE SET NULL)
ENGINE = InnoDB
AUTO_INCREMENT = 8
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `lms_exam_db`.`questions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `lms_exam_db`.`questions` (
  `question_id` BIGINT NOT NULL AUTO_INCREMENT,
  `category_id` BIGINT NOT NULL,
  `question_text` TEXT NOT NULL,
  `question_type` ENUM('MULTIPLE_CHOICE', 'TRUE_FALSE', 'SHORT_ANSWER') NULL DEFAULT 'MULTIPLE_CHOICE',
  `difficulty` ENUM('EASY', 'MEDIUM', 'HARD') NULL DEFAULT 'MEDIUM',
  `points` INT NULL DEFAULT '10',
  `explanation` TEXT NULL DEFAULT NULL,
  `is_active` TINYINT(1) NULL DEFAULT '1',
  `created_by` BIGINT NULL DEFAULT NULL,
  `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`question_id`),
  INDEX `category_id` (`category_id` ASC) VISIBLE,
  INDEX `created_by` (`created_by` ASC) VISIBLE,
  CONSTRAINT `questions_ibfk_1`
    FOREIGN KEY (`category_id`)
    REFERENCES `lms_exam_db`.`categories` (`category_id`)
    ON DELETE CASCADE,
  CONSTRAINT `questions_ibfk_2`
    FOREIGN KEY (`created_by`)
    REFERENCES `lms_exam_db`.`users` (`user_id`)
    ON DELETE SET NULL)
ENGINE = InnoDB
AUTO_INCREMENT = 15
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `lms_exam_db`.`exam_questions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `lms_exam_db`.`exam_questions` (
  `exam_question_id` BIGINT NOT NULL AUTO_INCREMENT,
  `exam_id` BIGINT NOT NULL,
  `question_id` BIGINT NOT NULL,
  `question_order` INT NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`exam_question_id`),
  UNIQUE INDEX `uk_exam_question` (`exam_id` ASC, `question_id` ASC) VISIBLE,
  INDEX `question_id` (`question_id` ASC) VISIBLE,
  CONSTRAINT `exam_questions_ibfk_1`
    FOREIGN KEY (`exam_id`)
    REFERENCES `lms_exam_db`.`exams` (`exam_id`)
    ON DELETE CASCADE,
  CONSTRAINT `exam_questions_ibfk_2`
    FOREIGN KEY (`question_id`)
    REFERENCES `lms_exam_db`.`questions` (`question_id`)
    ON DELETE CASCADE)
ENGINE = InnoDB
AUTO_INCREMENT = 18
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `lms_exam_db`.`options`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `lms_exam_db`.`options` (
  `option_id` BIGINT NOT NULL AUTO_INCREMENT,
  `question_id` BIGINT NOT NULL,
  `option_text` TEXT NOT NULL,
  `option_order` INT NOT NULL,
  `is_correct` TINYINT(1) NULL DEFAULT '0',
  `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`option_id`),
  INDEX `question_id` (`question_id` ASC) VISIBLE,
  CONSTRAINT `options_ibfk_1`
    FOREIGN KEY (`question_id`)
    REFERENCES `lms_exam_db`.`questions` (`question_id`)
    ON DELETE CASCADE)
ENGINE = InnoDB
AUTO_INCREMENT = 29
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `lms_exam_db`.`question_statistics`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `lms_exam_db`.`question_statistics` (
  `stat_id` BIGINT NOT NULL AUTO_INCREMENT,
  `question_id` BIGINT NOT NULL,
  `total_attempts` INT NULL DEFAULT '0' COMMENT 'Ï¥ù ÏùëÏãú Ïàò',
  `correct_count` INT NULL DEFAULT '0' COMMENT 'Ï†ïÎãµ Ïàò',
  `wrong_count` INT NULL DEFAULT '0' COMMENT 'Ïò§Îãµ Ïàò',
  `correct_rate` DECIMAL(5,2) NULL DEFAULT '0.00' COMMENT 'Ï†ïÎãµÎ•† (%)',
  `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`stat_id`),
  UNIQUE INDEX `unique_question_stat` (`question_id` ASC) VISIBLE,
  CONSTRAINT `question_statistics_ibfk_1`
    FOREIGN KEY (`question_id`)
    REFERENCES `lms_exam_db`.`questions` (`question_id`)
    ON DELETE CASCADE)
ENGINE = InnoDB
AUTO_INCREMENT = 31
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci
COMMENT = 'Î¨∏Ï†úÎ≥Ñ ÌÜµÍ≥Ñ';


-- -----------------------------------------------------
-- Table `lms_exam_db`.`user_exams`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `lms_exam_db`.`user_exams` (
  `user_exam_id` BIGINT NOT NULL AUTO_INCREMENT,
  `user_id` BIGINT NOT NULL,
  `exam_id` BIGINT NOT NULL,
  `started_at` TIMESTAMP NULL DEFAULT NULL,
  `submitted_at` TIMESTAMP NULL DEFAULT NULL,
  `score` INT NULL DEFAULT '0',
  `total_questions` INT NOT NULL,
  `correct_answers` INT NULL DEFAULT '0',
  `wrong_answers` INT NULL DEFAULT '0',
  `status` ENUM('NOT_STARTED', 'IN_PROGRESS', 'SUBMITTED', 'GRADED') NULL DEFAULT 'NOT_STARTED',
  `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`user_exam_id`),
  UNIQUE INDEX `uk_user_exam` (`user_id` ASC, `exam_id` ASC) VISIBLE,
  INDEX `exam_id` (`exam_id` ASC) VISIBLE,
  CONSTRAINT `user_exams_ibfk_1`
    FOREIGN KEY (`user_id`)
    REFERENCES `lms_exam_db`.`users` (`user_id`)
    ON DELETE CASCADE,
  CONSTRAINT `user_exams_ibfk_2`
    FOREIGN KEY (`exam_id`)
    REFERENCES `lms_exam_db`.`exams` (`exam_id`)
    ON DELETE CASCADE)
ENGINE = InnoDB
AUTO_INCREMENT = 19
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `lms_exam_db`.`user_answers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `lms_exam_db`.`user_answers` (
  `answer_id` BIGINT NOT NULL AUTO_INCREMENT,
  `user_exam_id` BIGINT NOT NULL,
  `question_id` BIGINT NOT NULL,
  `selected_option_id` BIGINT NULL DEFAULT NULL,
  `answer_text` TEXT NULL DEFAULT NULL,
  `is_correct` TINYINT(1) NULL DEFAULT '0',
  `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`answer_id`),
  INDEX `user_exam_id` (`user_exam_id` ASC) VISIBLE,
  INDEX `question_id` (`question_id` ASC) VISIBLE,
  INDEX `selected_option_id` (`selected_option_id` ASC) VISIBLE,
  CONSTRAINT `user_answers_ibfk_1`
    FOREIGN KEY (`user_exam_id`)
    REFERENCES `lms_exam_db`.`user_exams` (`user_exam_id`)
    ON DELETE CASCADE,
  CONSTRAINT `user_answers_ibfk_2`
    FOREIGN KEY (`question_id`)
    REFERENCES `lms_exam_db`.`questions` (`question_id`)
    ON DELETE CASCADE,
  CONSTRAINT `user_answers_ibfk_3`
    FOREIGN KEY (`selected_option_id`)
    REFERENCES `lms_exam_db`.`options` (`option_id`)
    ON DELETE SET NULL)
ENGINE = InnoDB
AUTO_INCREMENT = 31
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;


-- Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞
INSERT INTO users (username, password, email, full_name, role,phone) VALUES
('admin', '$2a$10$9uhSB/R2YZHIB3bvWGQeQeNgIRrN4pAM.JjFqnteErYepbBJ0EI86', 'admin@lms.com', 'Ïñ¥ÎìúÎØº', 'ADMIN', '010-1234-1234'),
('user1', '$2a$10$9uhSB/R2YZHIB3bvWGQeQeNgIRrN4pAM.JjFqnteErYepbBJ0EI86', 'user1@lms.com', 'ÌôçÍ∏∏Îèô', 'USER','010-1234-1235'),
('user2', '$2a$10$9uhSB/R2YZHIB3bvWGQeQeNgIRrN4pAM.JjFqnteErYepbBJ0EI86', 'user2@lms.com', 'Ïû•Í∏∏ÏÇ∞', 'USER', '010-1234-1236'),
('user3', '$2a$10$9uhSB/R2YZHIB3bvWGQeQeNgIRrN4pAM.JjFqnteErYepbBJ0EI86', 'user3@lms.com', 'ÏûÑÍ∫ΩÏ†ï', 'USER', '010-1234-1234');


INSERT INTO categories (category_name, description) VALUES
('Java ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç', 'Java Í∏∞Ï¥àÎ∂ÄÌÑ∞ Í≥†Í∏âÍπåÏßÄ'),
('Spring Framework', 'Spring Boot, Spring MVC'),
('Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§', 'SQL, MySQL'),
('ÏïåÍ≥†Î¶¨Ï¶ò', 'ÏûêÎ£åÍµ¨Ï°∞ÏôÄ ÏïåÍ≥†Î¶¨Ï¶ò'),
('Ïõπ Í∞úÎ∞ú', 'HTML, CSS, JavaScript');

INSERT INTO questions (category_id, question_text, question_type, difficulty, points, explanation, created_by) VALUES
(1, 'JavaÏóêÏÑú main Î©îÏÑúÎìúÏùò Ïò¨Î∞îÎ•∏ ÏÑ†Ïñ∏ÏùÄ?', 'MULTIPLE_CHOICE', 'EASY', 10, 'main Î©îÏÑúÎìúÎäî public static void main(String[] args) ÌòïÌÉúÏûÖÎãàÎã§.', 1);

INSERT INTO question_options (question_id, option_text, option_order, is_correct) VALUES
(1, 'public static void main(String[] args)', 1, TRUE),
(1, 'public void main(String[] args)', 2, FALSE),
(1, 'static void main(String[] args)', 3, FALSE),
(1, 'public main(String[] args)', 4, FALSE);

commit;

USE lms_exam_db;
show tables;
select * from users;

update exams set exam_date='2026-01-06' where exam_id=2;
delete from user_exams where user_exam_id=2;

select * from users;
select * from exams;
select * from user_exams;
select * from questions;
ALTER TABLE users 
ADD COLUMN phone VARCHAR(20);

-- Ïù∏Îç±Ïä§ Ï∂îÍ∞Ä
CREATE INDEX idx_users_phone ON users(phone);
CREATE INDEX idx_users_email ON users(email);

-- Ï†úÏïΩÏ°∞Í±¥ Ï∂îÍ∞Ä
ALTER TABLE users
ADD CONSTRAINT chk_phone_format 
CHECK (phone IS NULL OR phone REGEXP '^[0-9-+() ]+$');

